!function($,e,o,t){"use strict";$.fn.nag=function(o){var n=$(this),i=n.selector||"",s=(new Date).getTime(),a=[],r=arguments[0],c="string"==typeof r,l=[].slice.call(arguments,1),g;return n.each(function(){var n=$.isPlainObject(o)?$.extend(!0,{},$.fn.nag.settings,o):$.extend({},$.fn.nag.settings),u=n.className,d=n.selector,m=n.error,f=n.namespace,p="."+f,h=f+"-module",b=$(this),v=b.find(d.close),y=$(n.context?n.context:"body"),k=this,S=b.data(h),w,x,T,I,A,O,F,M,C,N=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,0)};C={initialize:function(){C.verbose("Initializing element"),b.on("click"+p,d.close,C.dismiss).data(h,C),n.detachable&&b.parent()[0]!==y[0]&&b.detach().prependTo(y),n.displayTime>0&&setTimeout(C.hide,n.displayTime),C.show()},destroy:function(){C.verbose("Destroying instance"),b.removeData(h).off(p)},show:function(){C.should.show()&&!b.is(":visible")&&(C.debug("Showing nag",n.animation.show),"fade"==n.animation.show?b.fadeIn(n.duration,n.easing):b.slideDown(n.duration,n.easing))},hide:function(){C.debug("Showing nag",n.animation.hide),"fade"==n.animation.show?b.fadeIn(n.duration,n.easing):b.slideUp(n.duration,n.easing)},onHide:function(){C.debug("Removing nag",n.animation.hide),b.remove(),n.onHide&&n.onHide()},dismiss:function(e){n.storageMethod&&C.storage.set(n.key,n.value),C.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return n.persist?(C.debug("Persistent nag is set, can show nag"),!0):C.storage.get(n.key)!=n.value.toString()?(C.debug("Stored value is not set, can show nag",C.storage.get(n.key)),!0):(C.debug("Stored value is set, cannot show nag",C.storage.get(n.key)),!1)}},get:{storageOptions:function(){var e={};return n.expires&&(e.expires=n.expires),n.domain&&(e.domain=n.domain),n.path&&(e.path=n.path),e}},clear:function(){C.storage.remove(n.key)},storage:{set:function(o,i){var s=C.get.storageOptions();if("localstorage"==n.storageMethod&&e.localStorage!==t)e.localStorage.setItem(o,i),C.debug("Value stored using local storage",o,i);else if("sessionstorage"==n.storageMethod&&e.sessionStorage!==t)e.sessionStorage.setItem(o,i),C.debug("Value stored using session storage",o,i);else{if($.cookie===t)return void C.error(m.noCookieStorage);$.cookie(o,i,s),C.debug("Value stored using cookie",o,i,s)}},get:function(o,i){var s;return"localstorage"==n.storageMethod&&e.localStorage!==t?s=e.localStorage.getItem(o):"sessionstorage"==n.storageMethod&&e.sessionStorage!==t?s=e.sessionStorage.getItem(o):$.cookie!==t?s=$.cookie(o):C.error(m.noCookieStorage),"undefined"!=s&&"null"!=s&&s!==t&&null!==s||(s=t),s},remove:function(o){var i=C.get.storageOptions();"localstorage"==n.storageMethod&&e.localStorage!==t?e.localStorage.removeItem(o):"sessionstorage"==n.storageMethod&&e.sessionStorage!==t?e.sessionStorage.removeItem(o):$.cookie!==t?$.removeCookie(o,i):C.error(m.noStorage)}},setting:function(e,o){if(C.debug("Changing setting",e,o),$.isPlainObject(e))$.extend(!0,n,e);else{if(o===t)return n[e];n[e]=o}},internal:function(e,o){if($.isPlainObject(e))$.extend(!0,C,e);else{if(o===t)return C[e];C[e]=o}},debug:function(){n.debug&&(n.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,n.name+":"),C.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,n.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var o,t,i;n.performance&&(o=(new Date).getTime(),i=s||o,t=o-i,s=o,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":t})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var e=n.name+":",o=0;s=!1,clearTimeout(C.performance.timer),$.each(a,function(e,t){o+=t["Execution Time"]}),e+=" "+o+"ms",i&&(e+=" '"+i+"'"),(console.group!==t||console.table!==t)&&a.length>0&&(console.groupCollapsed(e),console.table?console.table(a):$.each(a,function(e,o){console.log(o.Name+": "+o["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(e,o,n){var i=S,s,a,r;return o=o||l,n=k||n,"string"==typeof e&&i!==t&&(e=e.split(/[\. ]/),s=e.length-1,$.each(e,function(o,n){var r=o!=s?n+e[o+1].charAt(0).toUpperCase()+e[o+1].slice(1):e;if($.isPlainObject(i[r])&&o!=s)i=i[r];else{if(i[r]!==t)return a=i[r],!1;if(!$.isPlainObject(i[n])||o==s)return i[n]!==t?(a=i[n],!1):(C.error(m.method,e),!1);i=i[n]}})),$.isFunction(a)?r=a.apply(n,o):a!==t&&(r=a),$.isArray(g)?g.push(r):g!==t?g=[g,r]:r!==t&&(g=r),a}},c?(S===t&&C.initialize(),C.invoke(r)):(S!==t&&S.invoke("destroy"),C.initialize())}),g!==t?g:this},$.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document);
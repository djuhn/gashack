
<!DOCTYPE html>
<!-- JP Lomas, April 2017 -->
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properties -->
  <title>#gashack</title>
<!--   <link rel="stylesheet" type="text/css" href="bower_components/plyr/dist/plyr.css"> -->

  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/reset.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/site.css">

  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/container.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/grid.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/header.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/image.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/menu.css">

  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/divider.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/list.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/segment.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/dropdown.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/icon.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/button.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/card.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/sidebar.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/form.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/checkbox.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/modal.css">
  <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/dimmer.css">
    <link rel="stylesheet" type="text/css" href="bower_components/semantic-ui/dist/components/transition.css">
  <style type="text/css">
  body {
    background-color: #E3E0E9;
  }
  .ui.menu .item img.logo {
    margin-right: 1.5em;
  }
  .main.container {
    margin-top: 7em;
  }
  .wireframe {
    margin-top: 2em;
  }
  .ui.centered.cards {
    margin-bottom: 5em;
  }
  .ui.footer.segment {
    /*margin: 5em 0em 0em;*/
    padding: 5em 0em;
  }
  #RCoA img { height: 24px; }
  @media all and (max-width:480px) {

/* First, hide the main menu */
    #menu {
      display:none;
    }
/* then display the mobile menu */
    #m_menu {
        display:block;
    }
/* lastly, show your mobile menu button */
    #m_btn{
        display:inline-block;
    }
    .ui.huge.form {
      font-size: 14px;
    }
}
@media all and (min-width:481px) {
/* Hide the mobile menu */
    #m_menu {
        display:none;
    }
/* Unhide the regular menu */
    #menu{
      display:block;
    }
/* Lastly, hide the mobile menu button */
    #m_btn{
       display:none;
   }    
}
  .smallertext{
    font-size: 11px;
  }
  .ui.fixed.menu + .ui.grid {
  padding-top: 0px;
  }
  .ui.main.three.column.grid.container {
    margin-top: 4em;
  }
  .spacer {
    padding-top: 50px;
  }
  </style>

</head>
<body>

  <div class="ui fixed inverted menu" id="menu">
    <div class="ui container">
      <a href="index.html" class="header item">
        <strong>#gashack</strong>
      </a>
      <a class="item" href="register.html">Register</a>
      <div class="ui simple dropdown item">
        Event <i class="dropdown icon"></i>
        <div class="menu">
        <a class="item" href="#">Venue</a>
        <a class="item" href="#">Hotels</a>
        <a class="item" href="#">Sponsorship</a>
          <a class="item" href="#">Social</a>
        </div>
      </div>
      <div class="ui simple dropdown item">
        Connect <i class="dropdown icon"></i>
        <div class="menu">
        <a class="item" href="#">Email</a>
        <a class="item" href="#">Twitter</a>
        <a class="item" href="#">Slack</a>
        </div>
      </div>

<!--       <div class="right menu">
      <a href="about.html" class="item">
        About
      </a>
      </div> -->
    </div>
        </div>


    <div class="ui sidebar inverted vertical menu">
    <a class="item header" href="index.html">#gashack</a>
    <a class="item" href="register.html">&raquo; Register</a>
    <div class="item">Event</div>
             <a class="item" href="#">&raquo; Venue</a>
        <a class="item" href="#">&raquo; Hotels</a>
        <a class="item" href="#">&raquo; Sponsorship</a>
          <a class="item" href="#">&raquo; Social</a>
          <div class="item">Connect</div>
        <a class="item" href="#">&raquo; Email</a>
        <a class="item" href="#">&raquo; Twitter</a>
        <a class="item" href="#">&raquo; Slack</a>
  </div>
  <div class="pusher">
    <div class="ui fixed inverted menu" id="m_menu">
    <div class="ui container" id="m_btn">

    <div class="icon item">
      <a id="hamburger"><i class="content icon"></i> Menu</a>
    </div>
</div></div>




<div class="ui main three column grid container">
  <div class="ui container">
    <h1>Book your place</h1>
    <div class="ui brown inverted segment"><p>
      Fill in the form below and click submit.</p><p>We'll be in touch within 48 hours to confirm your registration.</p>
  </div>
  <div class="ui raised segments">
    <div class="ui segment">
      <div class="ui huge form" id="signup">
      <div class="field">
          <label>Name</label>
          <input placeholder="Full Name" type="text" id="field1">
      </div>
      <div class="field">
          <label>Email</label>
          <input placeholder="name@domain.com" type="email" id="field2">
      </div>
      <div class="grouped fields">
          <label for="job">I am:</label>
          <div class="field">
              <div class="ui radio checkbox job">
                  <input type="radio" name="job" checked="" tabindex="0" class="hidden" id="Anaesthetist">
                  <label>An anaesthetist</label>
              </div>
          </div>
          <div class="field">
              <div class="ui radio checkbox job">
                  <input type="radio" name="job" tabindex="0" class="hidden" id="Developer">
                  <label>A developer</label>
              </div>
          </div>
          <div class="field">
              <div class="ui radio checkbox job">
                  <input type="radio" name="job" tabindex="0" class="hidden" id="Both">
                  <label>Both</label>
              </div>
          </div>
          <div class="field">
              <div class="ui radio checkbox job">
                  <input type="radio" name="job" tabindex="0" class="hidden" id="Neither">
                  <label>Neither but interested...</label>
              </div>
          </div>
      </div>
      <div class="field">
    <div class="ui toggle checkbox" id="inspired">
      <input type="checkbox" tabindex="-1" class="hidden" id="#field8">
      <label>I have a project idea<br><small>Don't worry if you don't!</small></label>
        </div>
    </div>
      <div class="field hidden" id="idea">
      <label>What's your project idea?</label>
      <textarea id="field7"></textarea><div class="smallertext">A summary of potential projects will appear on our website. <br>Don't worry if this is rough-and-ready, vague or unformed.</div>
    </div>
      <div class="ui submit huge black button">Register</div>
  </div>

    </div>
  </div>
  </div>
  </div>

<div class="spacer"></div>



    <div class="ui inverted vertical footer segment">
  <!--     <div class="ui center aligned container">
        &copy; The Royal College of Anaesthetists, 2016
      </div> -->
      <div class="ui center aligned container">
      Questions?<br>Email: <a href="mailto:e-Portfolio@rcoa.ac.uk">jplomas@rcoa.ac.uk</a><br><br>
      <a href="http://www.rcoa.ac.uk"><img width=91 src="images/RCoAwhite.png"></a>
    </div>
    </div>

    <div class="ui modal">
      <i class="close icon"></i>
      <div class="header">
        Please check the form
      </div>
      <div class="content" id="err">
      </div>
      <div class="actions">
        <div class="ui close button" onclick="$('.ui.modal').modal('hide');">OK</div>
      </div>
    </div>


    </div>
      <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
      <script type="text/javascript" src="bower_components/semantic-ui/dist/components/dropdown.min.js"></script>
      <script type="text/javascript" src="bower_components/semantic-ui/dist/components/transition.min.js"></script>
      <script type="text/javascript" src="bower_components/semantic-ui/dist/components/sidebar.min.js"></script>
      <script type="text/javascript" src="bower_components/semantic-ui/dist/components/checkbox.min.js"></script>
      <script type="text/javascript" src="bower_components/semantic-ui/dist/components/dimmer.min.js"></script>
      <script type="text/javascript" src="bower_components/semantic-ui/dist/components/modal.min.js"></script>
    <script>
    $(document).ready(function() {
      $('.ui.modal').modal();
       $('.ui.dropdown').dropdown();
      $('.sidebar').first().sidebar('attach events', '#hamburger', 'show');
      $('#idea').hide();
      $('.job').checkbox('set unchecked');
      $('.ui.toggle').checkbox({
       onChecked: function() {
                     $('#idea').show();
                   },
       onUnchecked: function() {
                     $('#idea').hide();
      }
                                });
      $('.submit').on('click', function(){

        // minimum data check
        var valid = true;
        var err = '';
        if ($('#field2').val() == '') {
          err = err + "No email address entered - we'll need to get in touch!<br><br>";
          valid = false;
        }
        if ($('#field1').val() == '') {
          err = err + "No name entered - we'll need to know your name to confirm your identity<br><br>";
          valid = false;
        }
        if (valid==false) {
        $('#err').html(err);
        $('.ui.modal').modal('show');
        } else {
        // all okay, let's submit
        var foo = $("input[name='job']:checked").prop('id') + ' sign up. ';
        foo = foo + 'Name: ' + $('#field1').val() + ',  Email: ' + $('#field2').val(); 
        if ($('#inspired').checkbox('is checked')) {
          foo = foo + ',  Project idea submitted,  Idea:' + $('#field7').val();
        }
        postMessageToSlack(foo);
        // console.log('Posted: ' + foo);
        }
        
      });
      function postMessageToSlack(foo) {
          var xmlhttp = new XMLHttpRequest();
          var webhook_url = "https://hooks.slack.com/services/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";
          var myJSONStr = 'payload= {"username": "gashack", "icon_emoji": ":gift:", "channel": "#signup", "text":"' + foo + '"}';
          xmlhttp.open('POST', webhook_url, false);

          xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

          xmlhttp.send(myJSONStr);
      }



    });


    </script>

  </body>

  </html>
